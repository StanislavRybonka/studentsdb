{% extends 'base_cabinet_.html' %}
{% load staticfiles crispy_forms_tags bootstrap3 i18n%}

{% block meta_title %}{% trans 'Edit students' %}{% endblock %}

{% block content %}
    <div class="row" id="edit-form-row">
        <div class="col-xs-12" id="edit-form-xs">
            <div class="panel panel-default">
                <div class="panel-heading"><h2>{% trans 'Personal data' %} {{ object.first_name }}</h2></div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-xs-offset-3 col-xs-5">
                            <fieldset>
                                <legend>{% trans 'Edit student form' %}</legend>

                                <form method="post" action="{% url 'students_edit' object.id %}"
                                      enctype="multipart/form-data">
                                    {% csrf_token %}
                                    {% bootstrap_form_errors form non_fields %}

                                    {% bootstrap_field form.first_name %}

                                    {% bootstrap_field form.last_name %}

                                    {% bootstrap_field form.middle_name %}

                                    {% bootstrap_field form.birthday %}

                                    {% bootstrap_field form.photo %}

                                    <div id="image-preview">
                                        <label for="preview">{% trans 'New foto' %}<br>
                                            <img class="img-thumbnail" src="#" width="100" id="preview" alt="IMG">
                                        </label>
                                    </div>

                                    {% bootstrap_field form.ticket %}

                                    {% bootstrap_field form.notes %}
                                    {% bootstrap_field form.student_group %}
                                    <!-- To do buttons with bootstrap3 -->
                                    <div class="row">
                                        <div class="col-xs-offset-2 col-xs-3">
                                            <button type="submit" name="add_button" class="btn btn-primary">
                                                {%  trans 'Save' %}
                                            </button>
                                        </div>
                                        <div class="col-xs-offset-1 col-xs-3">
                                            <button type="submit" name="cancel_button" class="btn btn-link">
                                                {% trans 'Cancel' %}
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </fieldset>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}